<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Verse - AI Companion</title>
        <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop offset='0%25' stop-color='%233b82f6'/%3E%3Cstop offset='100%25' stop-color='%2360a5fa'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ccircle cx='50' cy='50' r='45' fill='url(%23g)'/%3E%3Cpath d='M50 30 A20 20 0 0 1 50 70 A20 20 0 0 1 50 30 M50 40 A10 10 0 0 1 50 60 A10 10 0 0 1 50 40' fill='none' stroke='%23fff' stroke-width='5'/%3E%3C/svg%3E">
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="style.css">
    </head>
    <body class="w-full h-screen overflow-hidden flex font-sans text-text-primary antialiased">
        <!-- Sidebar -->
        <aside class="w-72 bg-bg-secondary flex flex-col p-4 border-r border-border-color">
            <div class="flex items-center gap-3 mb-8 px-2">
                <div class="w-9 h-9 bg-gradient-to-br from-blue-500 to-blue-400 rounded-lg flex items-center justify-center">
                    <svg class="w-6 h-6 text-white" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM12 6C15.3137 6 18 8.68629 18 12C18 15.3137 15.3137 18 12 18C8.68629 18 6 15.3137 6 12C6 8.68629 8.68629 6 12 6ZM12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8Z" fill="currentColor"/>
                    </svg>
                </div>
                <h1 class="text-xl font-bold text-text-primary tracking-tight">Verse</h1>
            </div>
            <button id="new-chat-btn" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:opacity-90 text-white font-semibold py-2.5 px-4 rounded-lg transition-opacity duration-200 flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                </svg>
                New Conversation
        
            </button>
            <div class="mt-8">
                <h2 class="text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3 px-2">History</h2>
                <div id="history-container" class="space-y-1.5">
                    <div class="bg-blue-50 text-blue-700 p-2.5 rounded-lg text-sm font-medium cursor-pointer">Initial Conversation</div>
                </div>
            </div>
        </aside>
        <!-- Main Chat Area -->
        <main class="flex-1 flex flex-col bg-bg-primary">
            <header class="flex justify-between items-center p-4 border-b border-border-color">
                <h2 class="text-lg font-semibold text-text-primary">GenArt ML Technologies</h2>
                <div id="auth-container" class="flex items-center gap-4">
                <!-- Auth UI will be rendered here by script -->
                </div>
            </header>
            <div id="chat-container" class="flex-1 overflow-y-auto p-6 space-y-6">
                <!-- Initial Welcome Message -->
                <div class="flex items-start gap-4 max-w-2xl">
                    <div class="w-9 h-9 rounded-full bg-gradient-to-br from-blue-500 to-blue-400 flex-shrink-0 flex items-center justify-center font-bold text-white shadow-sm">V</div>
                    <div class="bg-bg-tertiary p-4 rounded-xl rounded-tl-none">
                        <strong class="font-semibold text-text-primary">Verse</strong>
                        <p class="text-text-primary leading-relaxed">Hello! It's great to connect. I'm Verse, and I'm here to help. Please sign in to begin our conversation.</p>
                    </div>
                </div>
            </div>
            <div id="reveal-container" class="px-6 pb-2 text-center" style="display: none;">
                <button id="reveal-btn" class="bg-bg-tertiary hover:bg-slate-200 text-text-primary text-xs font-semibold py-1 px-3 rounded-full transition-colors">» Reveal Instantly
             </button>
            </div>
            <!-- Message Input Form -->
            <div class="p-4 bg-bg-secondary/70 backdrop-blur-sm border-t border-border-color relative">
                <div id="uploaded-files-container" class="flex flex-wrap gap-2 mb-2"></div>
                <form id="message-form" class="bg-white border border-border-color rounded-xl p-2 flex items-end gap-2 focus-within:ring-2 focus-within:ring-accent-primary transition-all duration-200 shadow-sm">
                    <div class="relative">
                        <button id="actions-toggle-btn" type="button" class="text-text-secondary hover:text-accent-primary transition-colors p-2 rounded-full hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed" title="More Actions" disabled>
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                        </button>
                    </div>
                    <textarea id="message-input" class="flex-1 bg-transparent resize-none outline-none px-2 py-2 text-text-primary placeholder-slate-400" placeholder="Sign in to start chatting..." rows="1"></textarea>
                    <div class="flex items-center gap-1">
                        <button id="send-btn" type="submit" class="bg-blue-600 text-white rounded-full p-2.5 disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:bg-blue-700" disabled>
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path>
                            </svg>
                        </button>
                    </div>
                </form>
                <div id="actions-dropdown" class="absolute bottom-full left-4 mb-2 bg-white border border-border-color rounded-lg shadow-lg w-64 hidden">
                    <div class="p-2 space-y-1">
                        <button id="code-generator-btn" class="w-full flex items-center text-text-primary text-sm font-medium px-3 py-2 rounded-md hover:bg-blue-50 transition-colors">
                            <svg class="w-5 h-5 mr-3 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
                            </svg>
                            Generate Code
                    
                        </button>
                        <button id="brainstorm-btn" class="w-full flex items-center text-text-primary text-sm font-medium px-3 py-2 rounded-md hover:bg-blue-50 transition-colors">
                            <svg class="w-5 h-5 mr-3 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                            </svg>
                            Brainstorm Ideas
                    
                        </button>
                        <label class="w-full flex items-center text-text-primary text-sm font-medium px-3 py-2 rounded-md hover:bg-blue-50 cursor-pointer transition-colors">
                            <svg class="w-5 h-5 mr-3 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"></path>
                            </svg>
                            Attach File
                        <input id="file-upload" type="file" class="hidden" multiple>
                        </label>
                        <button id="web-search-toggle" class="w-full flex items-center text-text-primary text-sm font-medium px-3 py-2 rounded-md hover:bg-blue-50 transition-colors">
                            <svg class="w-5 h-5 mr-3 text-text-secondary" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L8.3 14.28V15c0 1.1.9 2 2 2v2.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1h-2v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.62-1.23 4.96-3.1 6.39z" fill="currentColor"></path>
                            </svg>
                            Web Search
                        <span id="web-search-status" class="ml-auto text-xs font-semibold text-gray-400 bg-gray-200 px-2 py-0.5 rounded-full">Off</span>
                        </button>
                        <div class="!my-2 border-t border-border-color"></div>
                        <div class="px-3 pt-2 pb-1">
                            <label for="length-select" class="text-xs font-medium text-text-secondary mb-1 block">Response Length</label>
                            <select id="length-select" class="w-full bg-bg-tertiary border border-border-color rounded text-xs p-1.5 outline-none focus:ring-1 focus:ring-accent-primary">
                                <option>Short</option>
                                <option selected>Medium</option>
                                <option>Long</option>
                            </select>
                        </div>
                        <div class="px-3 pt-1 pb-2">
                            <label for="tone-select" class="text-xs font-medium text-text-secondary mb-1 block">Response Tone</label>
                            <select id="tone-select" class="w-full bg-bg-tertiary border border-border-color rounded text-xs p-1.5 outline-none focus:ring-1 focus:ring-accent-primary">
                                <option>Formal</option>
                                <option>Creative</option>
                                <option selected>Concise</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        <!-- Modals -->
        <div id="auth-modal" class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center hidden">
            <div class="bg-bg-primary rounded-lg shadow-2xl p-8 w-full max-w-sm mx-auto border border-border-color">
                <h3 class="text-xl font-semibold mb-2 text-text-primary">Welcome to Verse</h3>
                <p class="text-text-secondary mb-6 text-sm">Please sign in to continue.</p>
                <button id="google-signin-btn" class="w-full flex items-center justify-center gap-3 py-2.5 px-4 border border-border-color rounded-md hover:bg-bg-tertiary transition-colors">
                    <svg class="w-5 h-5" viewBox="0 0 48 48">
                        <path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"></path>
                        <path fill="#FF3D00" d="M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"></path>
                        <path fill="#4CAF50" d="M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.223 0-9.641-3.657-11.291-8.512l-6.534 5.174C9.402 39.589 16.227 44 24 44z"></path>
                        <path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C41.389 36.331 44 31.025 44 24c0-1.341-.138-2.65-.389-3.917z"></path>
                    </svg>
                    Sign in with Google
            
                </button>
                <div class="my-6 flex items-center">
                    <div class="flex-grow border-t border-border-color"></div>
                    <span class="flex-shrink mx-4 text-sm text-text-secondary">OR</span>
                    <div class="flex-grow border-t border-border-color"></div>
                </div>
                <form id="email-signin-form" class="space-y-4">
                    <input id="email-input" type="email" class="w-full bg-bg-secondary border border-border-color rounded-md p-2 outline-none focus:ring-2 focus:ring-accent-primary" placeholder="Email address" required>
                    <input id="password-input" type="password" class="w-full bg-bg-secondary border border-border-color rounded-md p-2 outline-none focus:ring-2 focus:ring-accent-primary" placeholder="Password" required>
                    <p id="auth-error" class="text-red-500 text-xs hidden"></p>
                    <div class="flex gap-2">
                        <button id="email-signin-btn" type="submit" class="w-full px-4 py-2.5 rounded-md text-sm font-medium text-white bg-accent-primary hover:bg-accent-hover">Sign In</button>
                        <button id="email-signup-btn" type="button" class="w-full px-4 py-2.5 rounded-md text-sm font-medium bg-bg-tertiary hover:bg-slate-200">Sign Up</button>
                    </div>
                </form>
            </div>
        </div>
        <div id="brainstorm-modal" class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center" style="display: none;">
            <div class="bg-bg-primary rounded-lg shadow-2xl p-6 w-full max-w-md mx-auto border border-border-color">
                <h3 class="text-lg font-semibold mb-4 text-text-primary">✨ Brainstorm Ideas</h3>
                <p class="text-text-secondary mb-4 text-sm">What topic should we explore? I'll generate a list of creative ideas to get us started.</p>
                <form id="brainstorm-form">
                    <input id="brainstorm-input" type="text" class="w-full bg-bg-secondary border border-border-color rounded-md p-2 outline-none focus:ring-2 focus:ring-accent-primary text-text-primary" placeholder="e.g., 'A tagline for a new coffee brand'">
                    <div class="flex justify-end gap-3 mt-4">
                        <button id="brainstorm-cancel" type="button" class="px-4 py-2 rounded-md text-sm font-medium bg-bg-tertiary hover:bg-slate-200 transition-colors">Cancel</button>
                        <button type="submit" class="px-4 py-2 rounded-md text-sm font-medium text-white bg-accent-primary hover:bg-accent-hover transition-opacity">Generate</button>
                    </div>
                </form>
            </div>
        </div>
        <div id="code-generator-modal" class="fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center" style="display: none;">
            <div class="bg-bg-primary rounded-lg shadow-2xl p-6 w-full max-w-lg mx-auto border border-border-color">
                <h3 class="text-lg font-semibold mb-4 text-text-primary">
</>Create a Website</h3><p class="text-text-secondary mb-4 text-sm">Describe the website you want to build. Be as detailed as you like, and I'll generate the complete code in a single file.</p>
<form id="code-generator-form">
    <textarea id="code-description-input" class="w-full bg-bg-secondary border border-border-color rounded-md p-2 outline-none focus:ring-2 focus:ring-accent-primary text-text-primary" rows="6" placeholder="e.g., 'A modern portfolio website for a photographer with a dark theme, a gallery section, and a contact form.'"></textarea>
    <div class="flex justify-end gap-3 mt-4">
        <button id="code-generator-cancel" type="button" class="px-4 py-2 rounded-md text-sm font-medium bg-bg-tertiary hover:bg-slate-200 transition-colors">Cancel</button>
        <button type="submit" class="px-4 py-2 rounded-md text-sm font-medium text-white bg-accent-primary hover:bg-accent-hover transition-opacity">Generate Code</button>
    </div>
</form>
</div></div><script type="module" src="script.js"></script>
</body></html>
